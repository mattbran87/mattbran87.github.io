{%- comment -%} Only render if featured posts data exists and has entries {%- endcomment -%}
{%- if site.data.featured_posts.size > 0 -%}
<div class="sidebar__section">
    <h2 class="sidebar__title">Featured Posts</h2>
    <ul class="sidebar__list" role="list">
        {%- comment -%} Match each slug to a published post and render as a link {%- endcomment -%}
        {%- for entry in site.data.featured_posts -%}
            {%- assign post = site.posts | where: "slug", entry.slug | first -%}
            {%- comment -%} Skip entries that don't match a published post {%- endcomment -%}
            {%- if post -%}
            <li>
                <a class="sidebar__link" href="{{ post.url | relative_url }}">
                    {{ post.title | escape }}
                </a>
            </li>
            {%- endif -%}
        {%- endfor -%}
    </ul>
</div>
{%- endif -%}
